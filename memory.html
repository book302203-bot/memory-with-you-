<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Our Memory üíñ</title>

<style>
body{
  margin:0;
  font-family:sans-serif;
  background:#0f172a;
  color:white;
  text-align:center;
}

/* ‚ò∞ */
.menu-btn{
  position:fixed;
  top:15px;
  left:15px;
  font-size:28px;
  z-index:9999;
  cursor:pointer;
}

/* sidebar */
.sidebar{
  position:fixed;
  top:0;
  left:-250px;
  width:250px;
  height:100%;
  background:#1e293b;
  padding:20px;
  transition:0.3s;
}

.sidebar a{
  display:block;
  margin:15px 0;
  color:white;
  text-decoration:none;
}

/* ‡∏Å‡∏•‡πà‡∏≠‡∏á */
.box{
  margin:100px auto;
  width:90%;
  max-width:320px;
  padding:20px;
  border-radius:20px;
  background:linear-gradient(135deg,#22c1c3,#ff4d6d);
}

/* canvas */
canvas{
  width:100%;
  height:100px;
  border-radius:10px;
  touch-action:none;
}

/* ‡∏´‡∏±‡∏ß‡πÉ‡∏à */
.heart{
  position:fixed;
  top:-10px;
  animation:fall linear infinite;
}

@keyframes fall{
  to{transform:translateY(100vh);}
}
</style>
</head>

<body>

<!-- ‚ò∞ -->
<div class="menu-btn" onclick="toggleMenu()">‚ò∞</div>

<div class="sidebar" id="menu">
  <a onclick="showPage('home')">üíñ ‡∏ß‡∏±‡∏ô‡∏Ñ‡∏ö‡∏£‡∏≠‡∏ö</a>
  <a onclick="showPage('secret')">üíå ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏±‡∏ö</a>
</div>

<!-- ‡∏´‡∏ô‡πâ‡∏≤ -->
<div class="box" id="home">
  <h2>üíñ ‡∏ß‡∏±‡∏ô‡∏Ñ‡∏ö‡∏£‡∏≠‡∏ö üíñ</h2>
  <p id="time"></p>
</div>

<div class="box" id="secret" style="display:none">
  <h2>üíå ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏±‡∏ö</h2>
  <canvas id="scratch"></canvas>
</div>

<script>
// üîê ‡∏Å‡∏±‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á
if(localStorage.getItem("login") !== "true"){
  window.location.href = "index.html";
}

// ‚è±Ô∏è ‡πÄ‡∏ß‡∏•‡∏≤ (‡πÅ‡∏Å‡πâ‡πÅ‡∏ö‡∏ö‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏µ‡πâ‡∏¢‡∏ô)
const start = new Date("2026-01-25T00:00:00+07:00");

function updateTime(){
  const now = new Date();

  // ‡πÄ‡∏≠‡∏≤‡πÄ‡∏â‡∏û‡∏≤‡∏∞ "‡∏ß‡∏±‡∏ô"
  const s = new Date(start);
  s.setHours(0,0,0,0);

  const n = new Date(now);
  n.setHours(0,0,0,0);

  let days = Math.floor((n - s)/(1000*60*60*24));

  // ‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ
  let todayStart = new Date(now);
  todayStart.setHours(0,0,0,0);

  let diff = now - todayStart;

  let h = Math.floor(diff/(1000*60*60));
  let m = Math.floor(diff/(1000*60))%60;
  let s2 = Math.floor(diff/1000)%60;

  document.getElementById("time").innerText =
    `${days} ‡∏ß‡∏±‡∏ô ${h} ‡∏ä‡∏° ${m} ‡∏ô‡∏≤‡∏ó‡∏µ ${s2} ‡∏ß‡∏¥ üíï`;
}

setInterval(updateTime,1000);
updateTime();

// ‚ò∞ ‡πÄ‡∏°‡∏ô‡∏π
function toggleMenu(){
  const m = document.getElementById("menu");
  m.style.left = (m.style.left === "0px") ? "-250px" : "0px";
}

function showPage(p){
  document.querySelectorAll(".box").forEach(el=>el.style.display="none");
  document.getElementById(p).style.display="block";
  toggleMenu();
}

// üíó ‡∏´‡∏±‡∏ß‡πÉ‡∏à
setInterval(()=>{
  const h = document.createElement("div");
  h.innerText="üíó";
  h.className="heart";
  h.style.left=Math.random()*100+"vw";
  h.style.animationDuration=(Math.random()*3+2)+"s";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),5000);
},400);

// ü™ô ‡∏Ç‡∏π‡∏î (‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠+‡∏Ñ‡∏≠‡∏°)
const canvas = document.getElementById("scratch");
const ctx = canvas.getContext("2d");

canvas.width = canvas.offsetWidth;
canvas.height = 100;

ctx.fillStyle="#999";
ctx.fillRect(0,0,canvas.width,canvas.height);

ctx.fillStyle="pink";
ctx.font="18px sans-serif";
ctx.fillText("‡∏£‡∏±‡∏Å‡πÄ‡∏ò‡∏≠‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î üíñ",canvas.width/4,60);

function scratch(x,y){
  ctx.clearRect(x-15,y-15,30,30);
}

// ‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠
canvas.addEventListener("touchmove",e=>{
  e.preventDefault();
  const rect = canvas.getBoundingClientRect();
  const t = e.touches[0];
  scratch(t.clientX-rect.left, t.clientY-rect.top);
});

// ‡∏Ñ‡∏≠‡∏°
canvas.addEventListener("mousemove",e=>{
  if(e.buttons===1){
    scratch(e.offsetX,e.offsetY);
  }
});
</script>

</body>
</html>
